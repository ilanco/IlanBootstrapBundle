{% extends 'form_div_layout.html.twig' %}

{# Widgets #}

{% block choice_widget %}
    {% if expanded %}
    <div class="control-group {% if errors|length > 0 %}error{% endif %}">
        {% if label_render %}
        {{ form_label(form, label) }}
        {% endif %}
        <div class="controls">
            {% for child in form %}
            <label class="{{ widget_type ~ (multiple ? ' checkbox' : ' radio') }}">
            {{ form_widget(child, {'attr': {'class': attr.widget_class|default('')}}) }}
            {{ child.get('label')|trans }}
            </label>
            {% endfor %}
            {{ block('field_message') }}
        </div>
    </div>
    {% else %}
    <select {{ block('widget_attributes') }}{% if multiple %} multiple="multiple"{% endif %}>
        {% if empty_value is not none %}
        <option value="">{{ empty_value|trans }}</option>
        {% endif %}
        {% if preferred_choices|length > 0 %}
            {% set options = preferred_choices %}
            {{ block('widget_choice_options') }}
            {% if choices|length > 0 %}
                <option disabled="disabled">{{ separator }}</option>
            {% endif %}
        {% endif %}
        {% set options = choices %}
        {{ block('widget_choice_options') }}
    </select>
    {% endif %}
{% endblock choice_widget %}
